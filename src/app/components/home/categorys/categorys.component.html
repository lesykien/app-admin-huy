<div class="container-fluid px-4">
    <h1 class="mt-4">Quản lý danh mục</h1>
    <div class="card my-4">
        <div class="card-header">
            <i class="fas fa-table me-1"></i>
            Danh sách loại sản phẩm
        </div>
        <div class="card-body">
            <table class="table">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Id</th>
                        <th>Tên</th>
                        <th>
                            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal"
                                (click)="isPopup = true" data-bs-target="#exampleModal">
                                <i class="fa-solid fa-plus"></i>
                            </button>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>61</td>
                        <td>Edinburgh</td>
                        <td>
                            <div class="">
                                <button data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="OpenFormUpadte()"
                                    class="btn btn-sm btn-warning">
                                    <i class="fa-solid fa-pen-to-square text-light"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin: 6rem auto; max-width: 40rem;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    {{ isPopup ? 'Thêm danh mục' : 'Cập nhật danh mục'}}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    (click)="isPopup = true; ClosePopup()"></button>
            </div>
            <div class="modal-body mb-4">
                <form [formGroup]="CategoryForm">
                    <div class="mb-3 col-12">
                        <label for="formFileMultiple" class="form-label">
                            Tên danh mục
                        </label>
                        <input type="text" class="form-control" placeholder="Tên sản phẩm" formControlName="name">
                        <p class="text-danger m-0" *ngIf="CategoryForm.get('name')?.errors?.['required']">Bạn chưa nhập
                            tên</p>
                    </div>
                    <div class="d-flex justify-content-end" *ngIf="isPopup == true">
                        <button class="btn btn-primary" [disabled]="CategoryForm.invalid" (click)="SumbitForm()">Thêm
                            danh mục</button>
                    </div>
                    <div *ngIf="isPopup == false" class="d-flex justify-content-end">
                        <button class="btn btn-primary" [disabled]="CategoryForm.invalid" (click)="UpdateCategory()">Lưu
                            thay đổi</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>